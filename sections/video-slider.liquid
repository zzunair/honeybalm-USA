<style>
.vid-sec-{{ section.id }}{
  background-color: {{ section.settings.clr }};
  border-radius: 8px;
}
</style>
<div class="video-sec-wrap">
  <div class="px-section py-section-vertical-spacing relative z-10 max-w-site mx-auto ">
    <div class="video-sec-inner-wrap vid-sec-{{ section.id }}">
      <div class="video-sec-lts">
        <div class="video-sec-title heading2 strong">{{ section.settings.hdng }}</div>
        <div class="video-sec-desc base normal">{{ section.settings.txt }}</div>
        <div class="video-sec-btn">
          <a class="inline-block push-btn" href="{{ section.settings.btnlnk }}">            
            <span class="push-btn-surface outline-btn">
              {{ section.settings.btntxt }}
              <svg xmlns="http://www.w3.org/2000/svg" width="15" height="16" viewBox="0 0 15 16" fill="none">
                <path d="M7.3125 1.21875C7.4375 1.0625 7.6875 1.0625 7.84375 1.21875L14.375 7.75C14.5312 7.90625 14.5312 8.125 14.375 8.28125L7.84375 14.8125C7.6875 14.9688 7.4375 14.9688 7.3125 14.8125L6.6875 14.2188C6.53125 14.0625 6.53125 13.8125 6.6875 13.6875L11.5312 8.8125H0.875C0.65625 8.8125 0.5 8.65625 0.5 8.4375V7.5625C0.5 7.375 0.65625 7.1875 0.875 7.1875H11.5312L6.6875 2.34375C6.53125 2.21875 6.53125 1.96875 6.6875 1.8125L7.3125 1.21875Z" fill="black"></path>
              </svg>
            </span>
          </a>
          <span class="vid-prev vid-slide-btn push-btn-surface outline-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="15" height="16" viewBox="0 0 15 16" fill="none">
              <path d="M7.3125 1.21875C7.4375 1.0625 7.6875 1.0625 7.84375 1.21875L14.375 7.75C14.5312 7.90625 14.5312 8.125 14.375 8.28125L7.84375 14.8125C7.6875 14.9688 7.4375 14.9688 7.3125 14.8125L6.6875 14.2188C6.53125 14.0625 6.53125 13.8125 6.6875 13.6875L11.5312 8.8125H0.875C0.65625 8.8125 0.5 8.65625 0.5 8.4375V7.5625C0.5 7.375 0.65625 7.1875 0.875 7.1875H11.5312L6.6875 2.34375C6.53125 2.21875 6.53125 1.96875 6.6875 1.8125L7.3125 1.21875Z" fill="black"></path>
            </svg>
          </span>
          <span class="vid-next vid-slide-btn push-btn-surface outline-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="15" height="16" viewBox="0 0 15 16" fill="none">
              <path d="M7.3125 1.21875C7.4375 1.0625 7.6875 1.0625 7.84375 1.21875L14.375 7.75C14.5312 7.90625 14.5312 8.125 14.375 8.28125L7.84375 14.8125C7.6875 14.9688 7.4375 14.9688 7.3125 14.8125L6.6875 14.2188C6.53125 14.0625 6.53125 13.8125 6.6875 13.6875L11.5312 8.8125H0.875C0.65625 8.8125 0.5 8.65625 0.5 8.4375V7.5625C0.5 7.375 0.65625 7.1875 0.875 7.1875H11.5312L6.6875 2.34375C6.53125 2.21875 6.53125 1.96875 6.6875 1.8125L7.3125 1.21875Z" fill="black"></path>
            </svg>
          </span>
        </div>
      </div>
      <div class="video-sec-rts">
        <div id="slideshow-{{ section.id }}" class="vid-list splide">
            <div class="splide__track">
                <ul class="splide__list  w-full">
                  {% for block in section.blocks %}
                    <li class="vidlist splide__slide">
                      {{
                        block.settings.vid
                        | video_tag:
                          controls: false,
                          autoplay: false,
                          loop: true,
                          muted: muted,
                          class: "vid-video"
                      }}
                      <div class="play-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="36" height="43" viewBox="0 0 36 43" fill="none">
                          <path d="M33.125 17.7969C35.5469 19.2812 35.5469 22.7969 33.125 24.2812L5.625 40.5312C3.125 42.0156 0 40.2188 0 37.25V4.75C0 1.54688 3.35938 0.21875 5.625 1.54688L33.125 17.7969Z" fill="white"/>
                        </svg>
                      </div>
                    </li>
                  {% endfor %}
              </ul>
            </div>
        <script class="slideshow-options" type="application/json">
        {
        "mediaQuery": "max",
        "arrows": true,
        "pagination": false,
        "perPage": 1,
        "gap": "1.5rem",
        "type": "loop",
        "focus": "center",
        "padding": {
            "left": "5rem",
            "right": "5rem"
          },
        "breakpoints": {
          "990": {
            "pagination": false,
            "perPage": 1,
            "type": "loop",
            "perMove": 1,
            "autoplay": false,
            "gap": "1.25rem",
            "focus": "center",
            "padding": {
              "left": "5rem",
              "right": "5rem"
            }
          }
        }
        }
        </script>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  var videos = document.querySelectorAll('.play-btn');
  for(var i=0; i < videos.length; i++){
    videos[i].addEventListener('click', function(e){
      var video = this.parentElement.querySelector('video');
      if(video.paused){
        video.play();
        this.querySelector('svg').style.display = 'none';
      }else{
        video.pause();
        this.querySelector('svg').style.display = 'block';
      }
    });
  }

  var prev = document.querySelector('.vid-prev.vid-slide-btn');
  var next = document.querySelector('.vid-next.vid-slide-btn');
  next.addEventListener('click', function(){
    document.querySelector('.video-sec-inner-wrap .splide__arrow--next').click();
  });
  prev.addEventListener('click', function(){
    document.querySelector('.video-sec-inner-wrap .splide__arrow--prev').click();
  });
</script>
{% schema %}
  {
    "name": "Video Slider",
    "settings": [
      {
        "type": "color",
        "id": "clr",
        "label": "Section Background"
      },
      {
        "type": "text",
        "id": "hdng",
        "label": "Heading"
      },
      {
        "type": "text",
        "id": "txt",
        "label": "Text"
      },
      {
        "type": "text",
        "id": "btntxt",
        "label": "Button Text"
      },
      {
        "type": "text",
        "id": "btnlnk",
        "label": "Button Link"
      }
    ]
    ,
    "blocks": [
      {
        "name": "block",
        "type": "video",
        "settings": [
          {
            "type": "video",
            "id": "vid",
            "label": "Video"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Video Slider",
        "settings": {
        }
      }
    ]
  }
{% endschema %}